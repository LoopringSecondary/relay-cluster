// Code generated by github.com/fjl/gencodec. DO NOT EDIT.

package types

import (
	"encoding/json"
	"errors"
	"math/big"

	"github.com/Loopring/relay-lib/crypto"
	"github.com/ethereum/go-ethereum/common"
)

var _ = (*p2pOrderJsonRequestMarshaling)(nil)

// MarshalJSON marshals as JSON.
func (p P2POrderJsonRequest) MarshalJSON() ([]byte, error) {
	type P2POrderJsonRequest struct {
		Protocol              common.Address             `json:"protocol" gencodec:"required"`
		DelegateAddress       common.Address             `json:"delegateAddress" gencodec:"required"`
		TokenS                common.Address             `json:"tokenS" gencodec:"required"`
		TokenB                common.Address             `json:"tokenB" gencodec:"required"`
		AuthAddr              common.Address             `json:"authAddr" gencodec:"required"`
		AuthPrivateKey        crypto.EthPrivateKeyCrypto `json:"authPrivateKey"`
		WalletAddress         common.Address             `json:"walletAddress" gencodec:"required"`
		AmountS               *Big                       `json:"amountS" gencodec:"required"`
		AmountB               *Big                       `json:"amountB" gencodec:"required"`
		ValidSince            *Big                       `json:"validSince" gencodec:"required"`
		ValidUntil            *Big                       `json:"validUntil" gencodec:"required"`
		LrcFee                *Big                       `json:"lrcFee" `
		BuyNoMoreThanAmountB  bool                       `json:"buyNoMoreThanAmountB" gencodec:"required"`
		MarginSplitPercentage uint8                      `json:"marginSplitPercentage" gencodec:"required"`
		V                     uint8                      `json:"v" gencodec:"required"`
		R                     Bytes32                    `json:"r" gencodec:"required"`
		S                     Bytes32                    `json:"s" gencodec:"required"`
		Price                 *big.Rat                   `json:"price"`
		Owner                 common.Address             `json:"owner"`
		Hash                  common.Hash                `json:"hash"`
		CreateTime            int64                      `json:"createTime"`
		PowNonce              uint64                     `json:"powNonce"`
		Side                  string                     `json:"side"`
		OrderType             string                     `json:"orderType"`
		MakerOrderHash        common.Hash                `json:"makerOrderHash"`
		P2PSide               string                     `json:"p2pSide"`
		SourceId              string                     `json:"sourceId"`
	}
	var enc P2POrderJsonRequest
	enc.Protocol = p.Protocol
	enc.DelegateAddress = p.DelegateAddress
	enc.TokenS = p.TokenS
	enc.TokenB = p.TokenB
	enc.AuthAddr = p.AuthAddr
	enc.AuthPrivateKey = p.AuthPrivateKey
	enc.WalletAddress = p.WalletAddress
	enc.AmountS = (*Big)(p.AmountS)
	enc.AmountB = (*Big)(p.AmountB)
	enc.ValidSince = (*Big)(p.ValidSince)
	enc.ValidUntil = (*Big)(p.ValidUntil)
	enc.LrcFee = (*Big)(p.LrcFee)
	enc.BuyNoMoreThanAmountB = p.BuyNoMoreThanAmountB
	enc.MarginSplitPercentage = p.MarginSplitPercentage
	enc.V = p.V
	enc.R = p.R
	enc.S = p.S
	enc.Price = p.Price
	enc.Owner = p.Owner
	enc.Hash = p.Hash
	enc.CreateTime = p.CreateTime
	enc.PowNonce = p.PowNonce
	enc.Side = p.Side
	enc.OrderType = p.OrderType
	enc.MakerOrderHash = p.MakerOrderHash
	enc.P2PSide = p.P2PSide
	enc.SourceId = p.SourceId
	return json.Marshal(&enc)
}

// UnmarshalJSON unmarshals from JSON.
func (p *P2POrderJsonRequest) UnmarshalJSON(input []byte) error {
	type P2POrderJsonRequest struct {
		Protocol              *common.Address             `json:"protocol" gencodec:"required"`
		DelegateAddress       *common.Address             `json:"delegateAddress" gencodec:"required"`
		TokenS                *common.Address             `json:"tokenS" gencodec:"required"`
		TokenB                *common.Address             `json:"tokenB" gencodec:"required"`
		AuthAddr              *common.Address             `json:"authAddr" gencodec:"required"`
		AuthPrivateKey        *crypto.EthPrivateKeyCrypto `json:"authPrivateKey"`
		WalletAddress         *common.Address             `json:"walletAddress" gencodec:"required"`
		AmountS               *Big                        `json:"amountS" gencodec:"required"`
		AmountB               *Big                        `json:"amountB" gencodec:"required"`
		ValidSince            *Big                        `json:"validSince" gencodec:"required"`
		ValidUntil            *Big                        `json:"validUntil" gencodec:"required"`
		LrcFee                *Big                        `json:"lrcFee" `
		BuyNoMoreThanAmountB  *bool                       `json:"buyNoMoreThanAmountB" gencodec:"required"`
		MarginSplitPercentage *uint8                      `json:"marginSplitPercentage" gencodec:"required"`
		V                     *uint8                      `json:"v" gencodec:"required"`
		R                     *Bytes32                    `json:"r" gencodec:"required"`
		S                     *Bytes32                    `json:"s" gencodec:"required"`
		Price                 *big.Rat                    `json:"price"`
		Owner                 *common.Address             `json:"owner"`
		Hash                  *common.Hash                `json:"hash"`
		CreateTime            *int64                      `json:"createTime"`
		PowNonce              *uint64                     `json:"powNonce"`
		Side                  *string                     `json:"side"`
		OrderType             *string                     `json:"orderType"`
		MakerOrderHash        *common.Hash                `json:"makerOrderHash"`
		P2PSide               *string                     `json:"p2pSide"`
		SourceId              *string                     `json:"sourceId"`
	}
	var dec P2POrderJsonRequest
	if err := json.Unmarshal(input, &dec); err != nil {
		return err
	}
	if dec.Protocol == nil {
		return errors.New("missing required field 'protocol' for P2POrderJsonRequest")
	}
	p.Protocol = *dec.Protocol
	if dec.DelegateAddress == nil {
		return errors.New("missing required field 'delegateAddress' for P2POrderJsonRequest")
	}
	p.DelegateAddress = *dec.DelegateAddress
	if dec.TokenS == nil {
		return errors.New("missing required field 'tokenS' for P2POrderJsonRequest")
	}
	p.TokenS = *dec.TokenS
	if dec.TokenB == nil {
		return errors.New("missing required field 'tokenB' for P2POrderJsonRequest")
	}
	p.TokenB = *dec.TokenB
	if dec.AuthAddr == nil {
		return errors.New("missing required field 'authAddr' for P2POrderJsonRequest")
	}
	p.AuthAddr = *dec.AuthAddr
	if dec.AuthPrivateKey != nil {
		p.AuthPrivateKey = *dec.AuthPrivateKey
	}
	if dec.WalletAddress == nil {
		return errors.New("missing required field 'walletAddress' for P2POrderJsonRequest")
	}
	p.WalletAddress = *dec.WalletAddress
	if dec.AmountS == nil {
		return errors.New("missing required field 'amountS' for P2POrderJsonRequest")
	}
	p.AmountS = (*big.Int)(dec.AmountS)
	if dec.AmountB == nil {
		return errors.New("missing required field 'amountB' for P2POrderJsonRequest")
	}
	p.AmountB = (*big.Int)(dec.AmountB)
	if dec.ValidSince == nil {
		return errors.New("missing required field 'validSince' for P2POrderJsonRequest")
	}
	p.ValidSince = (*big.Int)(dec.ValidSince)
	if dec.ValidUntil == nil {
		return errors.New("missing required field 'validUntil' for P2POrderJsonRequest")
	}
	p.ValidUntil = (*big.Int)(dec.ValidUntil)
	if dec.LrcFee != nil {
		p.LrcFee = (*big.Int)(dec.LrcFee)
	}
	if dec.BuyNoMoreThanAmountB == nil {
		return errors.New("missing required field 'buyNoMoreThanAmountB' for P2POrderJsonRequest")
	}
	p.BuyNoMoreThanAmountB = *dec.BuyNoMoreThanAmountB
	if dec.MarginSplitPercentage == nil {
		return errors.New("missing required field 'marginSplitPercentage' for P2POrderJsonRequest")
	}
	p.MarginSplitPercentage = *dec.MarginSplitPercentage
	if dec.V == nil {
		return errors.New("missing required field 'v' for P2POrderJsonRequest")
	}
	p.V = *dec.V
	if dec.R == nil {
		return errors.New("missing required field 'r' for P2POrderJsonRequest")
	}
	p.R = *dec.R
	if dec.S == nil {
		return errors.New("missing required field 's' for P2POrderJsonRequest")
	}
	p.S = *dec.S
	if dec.Price != nil {
		p.Price = dec.Price
	}
	if dec.Owner != nil {
		p.Owner = *dec.Owner
	}
	if dec.Hash != nil {
		p.Hash = *dec.Hash
	}
	if dec.CreateTime != nil {
		p.CreateTime = *dec.CreateTime
	}
	if dec.PowNonce != nil {
		p.PowNonce = *dec.PowNonce
	}
	if dec.Side != nil {
		p.Side = *dec.Side
	}
	if dec.OrderType != nil {
		p.OrderType = *dec.OrderType
	}
	if dec.MakerOrderHash != nil {
		p.MakerOrderHash = *dec.MakerOrderHash
	}
	if dec.P2PSide != nil {
		p.P2PSide = *dec.P2PSide
	}
	if dec.SourceId != nil {
		p.SourceId = *dec.SourceId
	}
	return nil
}
